{
   "$schema":"http://json-schema.org/draft-04/hyper-schema",
   "id":"/schemata/artists",
   "title":"Artists",
   "description":"Artist Collection Schema",
   "stability":"prototype",
   "strictProperties":true,
   "required":[
      "links"
   ],
   "type":[
      "object"
   ],
   "definitions":{
      "id":{
         "description":"unique id of artist",
         "readOnly":true,
         "type":[
            "integer"
         ]
      },
      "artist_properties":{
         "$ref":"file:spec/support/api/schemas/partials/artist_properties.json#"
      },
      "genre_properties":{
         "$ref":"file:spec/support/api/schemas/partials/genre_properties.json#"
      },
      "identity":{
         "anyOf":[
            {
               "$ref":"/schemata/artist#/definitions/id"
            }
         ]
      },
      "links":{
         "type":"array",
         "items":[
            {
               "properties":{
                  "rel":{
                     "type":"array",
                     "items":[
                        {
                           "type":"string",
                           "enum":[
                              "self"
                           ]
                        }
                     ]
                  },
                  "href":{
                     "type":"string",
                     "format":"uri"
                  }
               }
            },
            {
               "properties":{
                  "rel":{
                     "type":"array",
                     "items":[
                        {
                           "type":"string",
                           "enum":[
                              "collection"
                           ]
                        }
                     ]
                  },
                  "href":{
                     "type":"string",
                     "format":"uri"
                  }
               }
            }
         ]
      }
   },
   "properties":{
      "class":{
         "type":"array",
         "items":{
            "type":"string",
            "enum":[
               "artists"
            ]
         }
      },
      "rel":{
         "type":"array",
         "items":{
            "type":"string",
            "enum":[
               "collection"
            ]
         }
      },

      "total_count":{
         "type" : "integer"

         },
      "total_pages":{
         "type" : "integer"

         },
      "page_size":{
         "type" : "integer"

         },


      "properties":{
         "$ref":"/schemata/artist#/definitions/artist_properties"
      },
      "actions":{
         "type":"array",
         "items":[
            {
               "type":"object",
               "properties":{
                  "name":{
                     "type":"string",
                     "enum":[
                        "update-artist"
                     ]
                  },
                  "title":{
                     "type":"string",
                     "enum":[
                        "Update Artist"
                     ]
                  },
                  "method":{
                     "type":"string",
                     "enum":[
                        "PATCH"
                     ]
                  },
                  "type":{
                     "type":"string",
                     "enum":[
                        "application/x-www-form-urlencoded"
                     ]
                  },
                  "href":{
                     "type":"string",
                     "format":"uri"
                  },
                  "fields":{
                     "type":"array",
                     "items":[
                        {
                           "properties":{
                              "name":{
                                 "type":"string",
                                 "enum":[
                                    "artist[title]"
                                 ]
                              },
                              "type":{
                                 "type":"string",
                                 "enum":[
                                    "text"
                                 ]
                              }
                           }
                        },
                        {
                           "properties":{
                              "name":{
                                 "type":"string",
                                 "enum":[
                                    "artist[country]"
                                 ]
                              },
                              "type":{
                                 "type":"string",
                                 "enum":[
                                    "text"
                                 ]
                              }
                           }
                        },
                        {
                           "properties":{
                              "name":{
                                 "type":"string",
                                 "enum":[
                                    "artist[genre_id]"
                                 ]
                              },
                              "type":{
                                 "type":"string",
                                 "enum":[
                                    "number"
                                 ]
                              }
                           }
                        }
                     ]
                  }
               }
            },
            {
               "type":"object",
               "properties":{
                  "name":{
                     "type":"string",
                     "enum":[
                        "delete-artist"
                     ]
                  },
                  "title":{
                     "type":"string",
                     "enum":[
                        "Delete Artist"
                     ]
                  },
                  "method":{
                     "type":"string",
                     "enum":[
                        "DELETE"
                     ]
                  },
                  "type":{
                     "type":"string",
                     "enum":[
                        "application/x-www-form-urlencoded"
                     ]
                  },
                  "href":{
                     "type":"string",
                     "format":"uri"
                  }
               }
            }
         ]
      },
      "entities":{
         "type":"array",
         "minItems":0,
         "items":[
            {
               "anyOf":[
                  {
                     "type":"object",
                     "properties":{
                        "class":{
                           "type":"array",
                           "items":{
                              "type":"string",
                              "enum":[
                                 "genre"
                              ]
                           }
                        },
                        "rel":{
                           "type":"array",
                           "items":{
                              "type":"string",
                              "enum":[
                                 "related"
                              ]
                           }
                        },
                        "properties":{
                           "id":{
                              "type":"integer"
                           },
                           "title":{
                              "type":"string"
                           },
                           "created_at":{
                              "type":"string",
                              "format":"date-time"
                           },
                           "updated_at":{
                              "type":"string",
                              "format":"date-time"
                           }
                        },
                        "links":{
                           "type":"array",
                           "items":[
                              {
                                 "rel":{
                                    "type":"array",
                                    "items":{
                                       "type":"string",
                                       "enum":[
                                          "collection"
                                       ]
                                    }
                                 },
                                 "href":{
                                    "type":"string",
                                    "format":"uri"
                                 }
                              }
                           ]
                        }
                     }
                  },
                  {
                     "type":"object",
                     "properties":{
                        "class":{
                           "type":"array",
                           "items":{
                              "type":"string",
                              "enum":[
                                 "albums"
                              ]
                           }
                        },
                        "href":{
                           "type":"string",
                           "format":"uri"
                        },
                        "rel":{
                           "type":"array",
                           "items":{
                              "type":"string",
                              "enum":[
                                 "related"
                              ]
                           }
                        }
                     }
                  }
               ]
            }
         ]
      },
      "links":{
         "$ref":"/schemata/artist#/definitions/links"
      }
   }
}